<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>Menu Principal</title>
  <style>
    body { font-family: Inter, sans-serif; margin:0; padding:20px; background:#0f172a; color:#e5e7eb; }
    .grid { display:grid; grid-template-columns:repeat(3,1fr); gap:20px; }
    .card { border:1px solid #1f2937; border-radius:16px; background:#111827; padding:18px; }
    .card h3 { margin:4px 0 8px; font-size:18px; font-weight:600; }
    .link {
      display:inline-flex; align-items:center; gap:8px; text-decoration:none;
      color: var(--text); background: linear-gradient(180deg, rgba(59,130,246,0.18), rgba(59,130,246,0.34));
      border:1px solid rgba(59,130,246,0.4); padding:10px 14px; border-radius:12px;
      font-weight:600; box-shadow:0 8px 20px rgba(59,130,246,0.22);
    }
    .link svg { width:16px; height:16px; }
    .desc { color:#9ca3af; font-size:14.5px; line-height:1.6; }
    .toggle { background:#3b82f6; color:#fff; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600; }
    footer { margin-top:36px; padding-top:18px; border-top:1px solid var(--border); color:var(--muted); font-size:13px; text-align:center; }

    /* Modal */
    .modal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; background-color:rgba(0,0,0,0.5); }
    .modal-content {
      background:#fff; color:#333; margin:5% auto; padding:0;
      border-radius:8px; width:80%; max-width:900px; height:80%;
      display:flex; overflow:hidden;
    }
    .modal-sidebar {
      width:220px; background:#f4f4f4; padding:15px; overflow-y:auto; border-right:1px solid #ddd;
    }
    .modal-sidebar ul { list-style:none; padding:0; }
    .modal-sidebar li { margin:10px 0; }
    .modal-sidebar a { text-decoration:none; color:#333; font-weight:600; }
    .modal-main {
      flex:1; padding:20px; overflow-y:auto; line-height:1.6;
    }
  </style>
</head>
<body>
  <section class="grid">
    <article class="card">
      <h3>Georreferenciamento</h3>
      <a class="link" href="plotaGeorrefereciasPorRecinto.html" target="_blank" rel="noopener noreferrer">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 4l8 8-1.41 1.41L13 8.83V20h-2V8.83l-5.59 5.58L4 12l8-8z"/></svg>
        Mapa dos Ativos
      </a>      
      <p class="desc">Mapeamento de ativos de recinto aduaneiro (câmeras, catracas, balanças, áreas de armazenagem, etc).</p>
      <button class="toggle" data-article="georreferenciamento">Notas</button>
    </article>

    <article class="card">
      <h3>API - Portal Único Siscomex</h3>
      <a class="link" href="https://docs.portalunico.siscomex.gov.br/api/rcnt/" target="_blank" rel="noopener noreferrer">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 4l8 8-1.41 1.41L13 8.83V20h-2V8.83l-5.59 5.58L4 12l8-8z"/></svg>
        Recintos Aduaneiros
      </a>      
      <p class="desc">API de interação entre os recintos e o Portal Único de Comércio Exterior.</p>
      <button class="toggle" data-article="api">Notas</button>
    </article>

    <article class="card">
      <h3>Legislação</h3>
      <a class="link" href="https://www.gov.br/receitafederal/pt-br/assuntos/aduana-e-comercio-exterior/manuais/alfandegamento/legislacao" target="_blank" rel="noopener noreferrer">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 4l8 8-1.41 1.41L13 8.83V20h-2V8.83l-5.59 5.58L4 12l8-8z"/></svg>
        Abrir Legislação
      </a>      
      <p class="desc">Legislação pertinente a recintos aduaneiros, citada no Manual de Alfandegamento.</p>
      <button class="toggle" data-article="legislacao">Notas</button>
    </article>
  </section>

  <!-- Modal único -->
  <div id="modal" class="modal">
    <div class="modal-content" id="modalContent"></div>
  </div>

  <script>
    const modal = document.getElementById("modal");
    const modalContent = document.getElementById("modalContent");
    const botoes = document.querySelectorAll(".toggle");

    function getTextoLongo(articleId) {
      switch(articleId) {
        case "georreferenciamento":
          return `
            <div class="modal-sidebar">
              <ul>
                <li><a href="#intro">Introdução</a></li>
                <li><a href="#csv">Arquivo CSV</a></li>
                <li><a href="#mapa">Mapa</a></li>
                <li><a href="#api">API Recintos</a></li>
                
                <li><a href="#can">Câmeras de Segurança</a></li>
                <li><a href="#obs">Observações</a></li>
              </ul>
            </div>
            <div class="modal-main">
              <h2 id="intro">Introdução</h2>
              <p>Mapa geográfico contendo os ativos de recintos alfandegados, enviados a API-Recintos, evento <a href="https://docs.portalunico.siscomex.gov.br/api/rcnt/" target="_blank">
                Georreferenciamento</a>.</p>
              <p> Na página contendo a documentação, escolha Georreferenciamento em Grupo 1 - Controle de Áreas e Equipamentos. Em JSON do evento Georreferenciamento, clique em <strong>Model</strong> para as especificações pertinentes.</p>                

              <p>Para executar o aplicativo em dispositivos móveis, celulares, tablets, etc, é preciso obter previamente arquivo csv contendo coordenadas dos ativos a serem plotados.</p>
              <h2 id="csv">Arquivo CSV</h2>
              <p>Arquivo csv é gerado pelo aplicativo Gemor no Analytics/ContÁgil, devendo ser copiado para o dispositivo móvel. </p>
              <p>O conteúdo é a relação de ocorrências de Georreferenciamento, informados via API Recintos ao módulo Recintos. Vide  <a href="https://portalunico.siscomex.gov.br/tabx/#/tabelas" target="_blank">
                Camex - Tabela Georreferenciamento.</a> </P>
              <p>No ícone de upload, informe o arquivo csv, quando solicitado.</p>

              <h2 id="mapa">Mapa</h2>
                <ul>

                   <ul style="padding-left: 15px; margin: 0; list-style: none;">
                        <li>
                          <img src="https://cdn-icons-png.flaticon.com/512/5640/5640350.png " alt="Zoom" width="20" style="vertical-align: middle;"/>
                          <strong>Zoom</strong> – Canto superior esquerdo.
                        </li>
                        <li>
                          <img src="https://cdn-icons-png.flaticon.com/512/889/889727.png" alt="Coordenadas" width="20" style="vertical-align: middle;"/>
                          <strong>Coordenadas</strong> – Canto superior direito. Liga/Desliga apresentação de coordenadas.
                        </li>
                        <li>
                          <img src="https://cdn-icons-png.flaticon.com/128/2810/2810451.png" alt="Upload" width="20" style="vertical-align: middle;"/>
                          <strong>Upload</strong> – Canto superior direito. Atualizar as coordenadas a serem plotadas.
                        </li>
                        <li>
                          <img src="https://cdn-icons-png.flaticon.com/512/854/854878.png" alt="Mapa" width="20" style="vertical-align: middle;"/>
                          <strong>Mapa</strong> – Canto superior direito. Apresenta opções de diferentes mapas.
                        </li>
                        <li>
                          <img src="https://cdn-icons-png.flaticon.com/512/2535/2535554.png" alt="Mapa" width="20" style="vertical-align: middle;"/>
                          <strong>Tabela csv</strong> – Canto superior direito. Apresenta tabela com o conteúdo do csv, após Upload.
                        </li>                        
                        <li>
                          <img src="https://cdn-icons-png.flaticon.com/512/535/535239.png" alt="Clique" width="20" style="vertical-align: middle;"/>
                          Ao clicar em um local sem ícones, coordenadas são apresentadas.
                        </li>
                        <li>
                          <img src="https://cdn-icons-png.flaticon.com/512/108/108933.png" alt="Círculos numerados" width="20" style="vertical-align: middle;"/>
                          Círculos numerados são agrupamentos de ativos.
                        </li>
                        <li>
                          <img src="https://cdn-icons-png.flaticon.com/512/2311/2311340.png" alt="Ícones ativos" width="20" style="vertical-align: middle;"/>
                          Os demais ícones representam os ativos ou áreas.
                        </li>
                        <li>
                          <img src="https://cdn-icons-png.flaticon.com/512/15724/15724751.png" alt="Polígonos" width="20" style="vertical-align: middle;"/>
                          São plotados polígonos das seguintes áreas.
                        </li>
                        <ul>
                            <li>Recinto</li>
                            <li>Armazenamento de Lotes</li>
                            <li>Conferência Física</li>
                            <li>Controle de Carga Solta</li>
                            <li>Posicionamento de Contêineres</li>
                            <li>Posicionamento de Veículos</li>
                            <li>Portêiners</li>
   

                        </ul>  
                     <li>O zoom máximo e mínimo dependem dos fornecedores dos mapas.</li>                        
                     <li>Ao clicar sobre um ícone, são apresentadas informações pertinentes.</li>
                    </ul>
              <h2 id="can">Câmeras de Segurança</h2>
                <ul>
   
                  <li>
                      <img src="https://cdn-icons-png.flaticon.com/512/10682/10682215.png" alt="Fixa" width="20" style="vertical-align: middle;"/>
                    Câmeras são fixas. Devem ter azimute informado, caso contrário, entendemos ser dome, ou móveis. 
                    Para as câmeras fixas, são apresentados triângulos orientados, segundo o azimute informado na API Recintos.
                  <li>
                    <img src="https://cdn-icons-png.flaticon.com/512/9716/9716309.png" alt="Dome" width="20" style="vertical-align: middle;"/>
                    Câmeras móveis. Devem ter PTZ.</li>
                  
                </ul>                
              <h2 id="api">API Recintos</h2>
              <p>É preciso ter cuidado quando do envio de ocorrências à API Recintos.</p>
              <ul>              
                <li>Ativos informados na mesma coordenada são apresentados em círculos numerados. O número contêm a quantidade de ativos na coordenada.</li>
                <li>A informação I - Inclusão deve ser utilizada apenas para novas ocorrências.</li>
                <li>Orientamos não excluir um ativo, a não ser que haja certeza de não ter sido referenciado em alguma ocorrência qualquer. Retifique para georreferenciamento ativo = falso.</li> 
              </ul>
              <h2 id="obs">Observações</h2>
              <ul>              
              <li>Azimute é um ângulo horizontal medido a partir da direção norte em sentido horário, variando de 0&deg; a 360&deg;. É uma coordenada angular usada em navegação, topografia e astronomia para determinar a direção de um ponto em relação a um observador ou ponto de referência, como o norte verdadeiro ou magnético. </li>
              <li>Câmera PTZ</li>
                   <ul><li>Pan (giro lateral): a câmera pode girar para a esquerda e direita, cobrindo grandes áreas.</li>
                       <li>Tilt (inclinação): movimenta-se para cima e para baixo, permitindo visualizar diferentes ângulos verticais.</li>
                       <li>Zoom: aproxima ou afasta a imagem, podendo ser óptico (com lentes) ou digital.</li>
              </ul>

              <p>Essas três funções combinadas tornam a câmera dinâmica e versátil, diferente das câmeras fixas que só captam uma área específica.</p>     

            </div>
          `;
        case "api":
          return `<div class="modal-main">
            <p>
            A API-Recintos permite comunicação direta entre os recintos aduaneiros e o Portal Único Siscomex,
          apresentando maior eficiência, economia, simplicidade, transparência e automação nos processos de comércio exterior.
              </p></div>`;
        case "legislacao":
          return `<div class="modal-main">
            <p>
              A seção de legislação reúne todas as normas citadas no Manual de Alfandegamento, permitindo
          acesso rápido às regras que regem o funcionamento dos recintos e operações de comércio exterior.
              </p></div>`;
        default:
          return `<div class="modal-main"><p>Texto não disponível.</p></div>`;
      }
    }

    botoes.forEach(btn => {
      btn.addEventListener("click", function() {
        const articleId = this.getAttribute("data-article");
        modalContent.innerHTML = getTextoLongo(articleId);
        modal.style.display = "block";
      });
    });

    window.addEventListener("click", function(e) {
      if (e.target === modal) modal.style.display = "none";
    });
    window.addEventListener("keydown", function(e) {
      if (e.key === "Escape") modal.style.display = "none";
    });
  </script>
</body>
</html>
